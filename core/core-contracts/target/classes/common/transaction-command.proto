syntax = "proto3";

import "common/card-brand-type.proto";
import "common/channel-type.proto";
import "common/currency-code.proto";
import "common/processing-code-type.proto";
import "common/transaction-status.proto";

package br.com.coregate.core.contracts;

option java_multiple_files = true;
option java_package = "br.com.coregate.core.contracts";
option java_outer_classname = "TransactionCommandProto";

// =======================================================
// ðŸ’± Enums de domÃ­nio
// =======================================================


enum TransactionType {
    TRANSACTION_TYPE_UNSPECIFIED = 0;
    TRANSACTION_TYPE_PURCHASE = 1;
    TRANSACTION_TYPE_REVERSAL = 2;
    TRANSACTION_TYPE_REFUND = 3;
    TRANSACTION_TYPE_BALANCE_INQUIRY = 4;
    TRANSACTION_TYPE_WITHDRAWAL = 5;
    TRANSACTION_TYPE_AUTHORIZATION = 6;
}

// =======================================================
// ðŸ’³ Value Object - PAN
// =======================================================
message Pan {
    string value = 1;
}

// =======================================================
// ðŸ“¤ Context â†’ Orquestrator
// =======================================================
message TransactionCommand {
    string transactionId = 1;
    string tenantId = 2;
    string merchantId = 3;
    double amount = 4;
    CurrencyCode currency = 5;
    CardBrandType brand = 6;
    ChannelType channel = 7;
    TransactionType type = 8;
    Pan pan = 9;
    string mti = 10;
    string mcc = 11;
    ProcessingCodeType operation = 12;
    TransactionStatus statusProto = 13;
}

